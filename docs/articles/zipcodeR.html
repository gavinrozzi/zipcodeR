<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to zipcodeR • zipcodeR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to zipcodeR">
<meta property="og:description" content="This is a short intro to using zipcodeR
">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">zipcodeR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/zipcodeR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/gavinrozzi/zipcodeR/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="zipcodeR_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="zipcodeR_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="zipcodeR_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to zipcodeR</h1>
                        <h4 class="author">Gavin Rozzi</h4>
            
            <h4 class="date">2020-12-12</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/gavinrozzi/zipcodeR/blob/master/vignettes/zipcodeR.Rmd"><code>vignettes/zipcodeR.Rmd</code></a></small>
      <div class="hidden name"><code>zipcodeR.Rmd</code></div>

    </div>

    
    
<p><code>zipcodeR</code> is an all-in-one toolkit of functions and data for working with ZIP codes in R.</p>
<p>This document will introduce the tools provided by zipcodeR for improving your workflow when working with ZIP code-level data. The goal of these examples is to help you quickly get up and running with zipcodeR using real-world examples.</p>
<div id="basic-search-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#basic-search-functions" class="anchor"></a>Basic search functions</h2>
<p>First thing’s first: <code>zipcodeR</code>’s data &amp; basic search functions are a core component of the package. We’ll cover these before showing you how you can implement this package with a real-world example.</p>
</div>
<div id="data" class="section level2">
<h2 class="hasAnchor">
<a href="#data" class="anchor"></a>Data</h2>
<p>The package ships with an offline database containing 24 columns of data for each ZIP code. You can either keep all 24 variables or filter to just one of these depending on what data you need.</p>
<p>The columns of data provided are: <strong>zipcode, zipcode_type, major_city, post_office_city, common_city_list, county, state, lat, lng, timezone, radius_in_miles, area_code_list, population, population_density, land_area_in_sqmi, water_area_in_sqmi, housing_units, occupied_housing_units, median_home_value, median_household_income, bounds_west, bounds_east, bounds_north, bounds_south</strong></p>
</div>
<div id="searching-for-zip-codes-by-state" class="section level2">
<h2 class="hasAnchor">
<a href="#searching-for-zip-codes-by-state" class="anchor"></a>Searching for ZIP codes by state</h2>
<p>Let’s begin by using zipcodeR to find all ZIP codes within a given state.</p>
<p>Getting all ZIP codes for a single state is simple, you only need to pass a two-digit abbreviation of a state’s name to get a tibble of all ZIP codes in that state. Let’s start by finding all of the ZIP codes in New York:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/search_state.html">search_state</a></span><span class="op">(</span><span class="st">'NY'</span><span class="op">)</span></code></pre></div>
<pre><code>## 2208 ZIP codes found for state: "NY"</code></pre>
<pre><code>## # A tibble: 2,208 x 24
##    zipcode zipcode_type major_city post_office_city common_city_list county
##    &lt;chr&gt;   &lt;chr&gt;        &lt;chr&gt;      &lt;chr&gt;                 &lt;list&lt;raw&gt;&gt; &lt;chr&gt; 
##  1 00501   Unique       Holtsville &lt;NA&gt;                         [22] Suffo~
##  2 00544   Unique       Holtsville &lt;NA&gt;                         [22] Suffo~
##  3 06390   PO Box       Fishers I~ Fishers Island,~             [32] Suffo~
##  4 10001   Standard     New York   New York, NY                 [20] New Y~
##  5 10002   Standard     New York   New York, NY                 [34] New Y~
##  6 10003   Standard     New York   New York, NY                 [20] New Y~
##  7 10004   Standard     New York   New York, NY                 [37] New Y~
##  8 10005   Standard     New York   New York, NY                 [35] New Y~
##  9 10006   Standard     New York   New York, NY                 [31] New Y~
## 10 10007   Standard     New York   New York, NY                 [20] New Y~
## # ... with 2,198 more rows, and 18 more variables: state &lt;chr&gt;, lat &lt;dbl&gt;,
## #   lng &lt;dbl&gt;, timezone &lt;chr&gt;, radius_in_miles &lt;dbl&gt;,
## #   area_code_list &lt;list&lt;raw&gt;&gt;, population &lt;int&gt;, population_density &lt;dbl&gt;,
## #   land_area_in_sqmi &lt;dbl&gt;, water_area_in_sqmi &lt;dbl&gt;, housing_units &lt;int&gt;,
## #   occupied_housing_units &lt;int&gt;, median_home_value &lt;int&gt;,
## #   median_household_income &lt;int&gt;, bounds_west &lt;dbl&gt;, bounds_east &lt;dbl&gt;,
## #   bounds_north &lt;dbl&gt;, bounds_south &lt;dbl&gt;</code></pre>
<p>What if you only wanted the actual ZIP codes and no other variables? You can use R’s dollar sign operator to select one column at a time from the output of <code>zipcodeR</code>’s search functions:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">nyzip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_state.html">search_state</a></span><span class="op">(</span><span class="st">'NY'</span><span class="op">)</span><span class="op">$</span><span class="va">zipcode</span></code></pre></div>
<pre><code>## 2208 ZIP codes found for state: "NY"</code></pre>
<div id="searching-multiple-states-at-once" class="section level3">
<h3 class="hasAnchor">
<a href="#searching-multiple-states-at-once" class="anchor"></a>Searching multiple states at once</h3>
<p>You can also search for ZIP codes in multiple states at once by passing a vector of state abbreviations to the search_states function like so:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">states</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'NY'</span>,<span class="st">'NJ'</span>,<span class="st">'CT'</span><span class="op">)</span>

<span class="fu"><a href="../reference/search_state.html">search_state</a></span><span class="op">(</span><span class="va">states</span><span class="op">)</span></code></pre></div>
<pre><code>## 3378 ZIP codes found for states: "NY", "NJ", "CT"</code></pre>
<pre><code>## # A tibble: 3,378 x 24
##    zipcode zipcode_type major_city post_office_city common_city_list county
##    &lt;chr&gt;   &lt;chr&gt;        &lt;chr&gt;      &lt;chr&gt;                 &lt;list&lt;raw&gt;&gt; &lt;chr&gt; 
##  1 06001   Standard     Avon       Avon, CT                     [16] Hartf~
##  2 06002   Standard     Bloomfield Bloomfield, CT               [22] Hartf~
##  3 06006   Unique       Windsor    &lt;NA&gt;                         [19] Hartf~
##  4 06010   Standard     Bristol    Bristol, CT                  [19] Hartf~
##  5 06011   PO Box       Bristol    &lt;NA&gt;                         [19] Hartf~
##  6 06013   Standard     Burlington Burlington, CT               [36] Hartf~
##  7 06016   Standard     Broad Bro~ Broad Brook, CT              [46] Hartf~
##  8 06018   Standard     Canaan     Canaan, CT                   [18] Litch~
##  9 06019   Standard     Canton     Canton, CT                   [34] Hartf~
## 10 06020   Standard     Canton Ce~ Canton Center, ~             [25] Hartf~
## # ... with 3,368 more rows, and 18 more variables: state &lt;chr&gt;, lat &lt;dbl&gt;,
## #   lng &lt;dbl&gt;, timezone &lt;chr&gt;, radius_in_miles &lt;dbl&gt;,
## #   area_code_list &lt;list&lt;raw&gt;&gt;, population &lt;int&gt;, population_density &lt;dbl&gt;,
## #   land_area_in_sqmi &lt;dbl&gt;, water_area_in_sqmi &lt;dbl&gt;, housing_units &lt;int&gt;,
## #   occupied_housing_units &lt;int&gt;, median_home_value &lt;int&gt;,
## #   median_household_income &lt;int&gt;, bounds_west &lt;dbl&gt;, bounds_east &lt;dbl&gt;,
## #   bounds_north &lt;dbl&gt;, bounds_south &lt;dbl&gt;</code></pre>
<p>This results in a tibble containing all ZIP codes for the states passed to the <code>search_states()</code> function.</p>
</div>
</div>
<div id="searching-by-county" class="section level2">
<h2 class="hasAnchor">
<a href="#searching-by-county" class="anchor"></a>Searching by county</h2>
<p>It is also possible to search for ZIP codes located in a particular county within a state.</p>
<p>Let’s find all of the ZIP codes located within Ocean County, New Jersey:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/search_county.html">search_county</a></span><span class="op">(</span><span class="st">'Ocean'</span>,<span class="st">'NJ'</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "32 ZIP codes found for Ocean County , NJ"</code></pre>
<pre><code>## # A tibble: 32 x 24
##    zipcode zipcode_type major_city post_office_city common_city_list county
##    &lt;chr&gt;   &lt;chr&gt;        &lt;chr&gt;      &lt;chr&gt;                 &lt;list&lt;raw&gt;&gt; &lt;chr&gt; 
##  1 08005   Standard     Barnegat   Barnegat, NJ                 [20] Ocean~
##  2 08006   PO Box       Barnegat ~ Barnegat Light,~             [33] Ocean~
##  3 08008   Standard     Beach Hav~ Beach Haven, NJ              [61] Ocean~
##  4 08050   Standard     Manahawkin Manahawkin, NJ               [47] Ocean~
##  5 08087   Standard     Tuckerton  Tuckerton, NJ                [51] Ocean~
##  6 08092   Standard     West Creek West Creek, NJ               [22] Ocean~
##  7 08527   Standard     Jackson    Jackson, NJ                  [19] Ocean~
##  8 08533   Standard     New Egypt  New Egypt, NJ                [21] Ocean~
##  9 08701   Standard     Lakewood   Lakewood, NJ                 [20] Ocean~
## 10 08721   Standard     Bayville   Bayville, NJ                 [20] Ocean~
## # ... with 22 more rows, and 18 more variables: state &lt;chr&gt;, lat &lt;dbl&gt;,
## #   lng &lt;dbl&gt;, timezone &lt;chr&gt;, radius_in_miles &lt;dbl&gt;,
## #   area_code_list &lt;list&lt;raw&gt;&gt;, population &lt;int&gt;, population_density &lt;dbl&gt;,
## #   land_area_in_sqmi &lt;dbl&gt;, water_area_in_sqmi &lt;dbl&gt;, housing_units &lt;int&gt;,
## #   occupied_housing_units &lt;int&gt;, median_home_value &lt;int&gt;,
## #   median_household_income &lt;int&gt;, bounds_west &lt;dbl&gt;, bounds_east &lt;dbl&gt;,
## #   bounds_north &lt;dbl&gt;, bounds_south &lt;dbl&gt;</code></pre>
<div id="approximate-matching-of-county-names" class="section level3">
<h3 class="hasAnchor">
<a href="#approximate-matching-of-county-names" class="anchor"></a>Approximate matching of county names</h3>
<p>Sometimes working with county names can be messy and there might not be a 100% match between our database and the name. The <code><a href="../reference/search_county.html">search_county()</a></code> function can be configured to use base R’s <code>agrep</code> function for these cases via an optional parameter.</p>
<p>One example where this feature is useful comes from the state of Louisiana. Since Louisiana has parishes, their county names don’t line up exactly with how other states name their counties.</p>
<p>This example uses approxmiate matching to retrieve all ZIP codes for St. Bernard Parish in Louisiana:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/search_county.html">search_county</a></span><span class="op">(</span><span class="st">"ST BERNARD"</span>,<span class="st">"LA"</span>, similar <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">$</span><span class="va">zipcode</span></code></pre></div>
<pre><code>## [1] "6 ZIP codes found for St. Bernard Parish , LA or St Bernard Parish , LA"</code></pre>
<pre><code>## [1] "70032" "70043" "70044" "70075" "70085" "70092"</code></pre>
<p>Try running the above code with the similar parameter set to FALSE or not present and you’ll receive an error.</p>
</div>
</div>
<div id="finding-out-more-about-your-zip-codes" class="section level2">
<h2 class="hasAnchor">
<a href="#finding-out-more-about-your-zip-codes" class="anchor"></a>Finding out more about your ZIP codes</h2>
<p>What if you already have a dataset containing ZIP codes and want to find out more about that particular area?</p>
<p>Using the reverse_zipcode() function, we can get up to 24 more columns of data when given a ZIP code.</p>
</div>
<div id="data-u-s--real-estate-market" class="section level2">
<h2 class="hasAnchor">
<a href="#data-u-s--real-estate-market" class="anchor"></a>Data: U.S. Real Estate Market</h2>
<p>To explore how zipcodeR can enhance your data &amp; workflow, we will use a public dataset from the <a href="https://www.realtor.com/research/data/">National Association of Realtors</a> containing data about housing market trends in the United States.</p>
<p>This dataset, which is updated monthly, contains 11102 observations with current housing market data from the National Association of Realtors <a href="https://econdata.s3-us-west-2.amazonaws.com/Reports/Core/RDC_Inventory_Core_Metrics_Zip.csv">hosted on Amazon S3</a></p>
<p>This is what the data we will be working with looks like:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">real_estate_data</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 40
##   month_date_yyyy~ postal_code zip_name flag  median_listing_~ median_listing_~
##              &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;            &lt;dbl&gt;            &lt;dbl&gt;
## 1           202011 11766       mount s~ *              584550.            0.063
## 2           202011 16316       conneau~ *              239950             0.372
## 3           202011 96064       montagu~ &lt;NA&gt;           417050            -0.240
## 4           202011 30176       tallapo~ *              349950             0.211
## 5           202011 11798       wyandan~ &lt;NA&gt;           402050             0.072
## 6           202011 75709       tyler, ~ *              363050            -0.081
## # ... with 34 more variables: median_listing_price_yy &lt;dbl&gt;,
## #   active_listing_count &lt;dbl&gt;, active_listing_count_mm &lt;dbl&gt;,
## #   active_listing_count_yy &lt;dbl&gt;, median_days_on_market &lt;dbl&gt;,
## #   median_days_on_market_mm &lt;dbl&gt;, median_days_on_market_yy &lt;dbl&gt;,
## #   new_listing_count &lt;dbl&gt;, new_listing_count_mm &lt;dbl&gt;,
## #   new_listing_count_yy &lt;dbl&gt;, price_increased_count &lt;dbl&gt;,
## #   price_increased_count_mm &lt;dbl&gt;, price_increased_count_yy &lt;dbl&gt;,
## #   price_reduced_count &lt;dbl&gt;, price_reduced_count_mm &lt;dbl&gt;,
## #   price_reduced_count_yy &lt;dbl&gt;, pending_listing_count &lt;dbl&gt;,
## #   pending_listing_count_mm &lt;dbl&gt;, pending_listing_count_yy &lt;dbl&gt;,
## #   median_listing_price_per_square_foot &lt;dbl&gt;,
## #   median_listing_price_per_square_foot_mm &lt;dbl&gt;,
## #   median_listing_price_per_square_foot_yy &lt;dbl&gt;, median_square_feet &lt;dbl&gt;,
## #   median_square_feet_mm &lt;dbl&gt;, median_square_feet_yy &lt;dbl&gt;,
## #   average_listing_price &lt;dbl&gt;, average_listing_price_mm &lt;dbl&gt;,
## #   average_listing_price_yy &lt;dbl&gt;, total_listing_count &lt;dbl&gt;,
## #   total_listing_count_mm &lt;dbl&gt;, total_listing_count_yy &lt;dbl&gt;,
## #   pending_ratio &lt;dbl&gt;, pending_ratio_mm &lt;dbl&gt;, pending_ratio_yy &lt;dbl&gt;</code></pre>
<p>Note: The data used in this vignette was filtered to only include valid 5-digit ZIP codes as zipcodeR does not yet have a function for normalizing ZIP codes. The full Realtor dataset will have a different number of rows.</p>
<p>We’ll focus on the first row for now, which represents the town of Mount Sinai, Ny.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">real_estate_data</span><span class="op">[</span><span class="fl">1</span>,<span class="op">]</span></code></pre></div>
<pre><code>## # A tibble: 1 x 40
##   month_date_yyyy~ postal_code zip_name flag  median_listing_~ median_listing_~
##              &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;            &lt;dbl&gt;            &lt;dbl&gt;
## 1           202011 11766       mount s~ *              584550.            0.063
## # ... with 34 more variables: median_listing_price_yy &lt;dbl&gt;,
## #   active_listing_count &lt;dbl&gt;, active_listing_count_mm &lt;dbl&gt;,
## #   active_listing_count_yy &lt;dbl&gt;, median_days_on_market &lt;dbl&gt;,
## #   median_days_on_market_mm &lt;dbl&gt;, median_days_on_market_yy &lt;dbl&gt;,
## #   new_listing_count &lt;dbl&gt;, new_listing_count_mm &lt;dbl&gt;,
## #   new_listing_count_yy &lt;dbl&gt;, price_increased_count &lt;dbl&gt;,
## #   price_increased_count_mm &lt;dbl&gt;, price_increased_count_yy &lt;dbl&gt;,
## #   price_reduced_count &lt;dbl&gt;, price_reduced_count_mm &lt;dbl&gt;,
## #   price_reduced_count_yy &lt;dbl&gt;, pending_listing_count &lt;dbl&gt;,
## #   pending_listing_count_mm &lt;dbl&gt;, pending_listing_count_yy &lt;dbl&gt;,
## #   median_listing_price_per_square_foot &lt;dbl&gt;,
## #   median_listing_price_per_square_foot_mm &lt;dbl&gt;,
## #   median_listing_price_per_square_foot_yy &lt;dbl&gt;, median_square_feet &lt;dbl&gt;,
## #   median_square_feet_mm &lt;dbl&gt;, median_square_feet_yy &lt;dbl&gt;,
## #   average_listing_price &lt;dbl&gt;, average_listing_price_mm &lt;dbl&gt;,
## #   average_listing_price_yy &lt;dbl&gt;, total_listing_count &lt;dbl&gt;,
## #   total_listing_count_mm &lt;dbl&gt;, total_listing_count_yy &lt;dbl&gt;,
## #   pending_ratio &lt;dbl&gt;, pending_ratio_mm &lt;dbl&gt;, pending_ratio_yy &lt;dbl&gt;</code></pre>
<p>The Realtor dataset contains a column named <strong>postal_code</strong> containing the ZIP code that identifies the town. We’ll use this to find out more about Mount Sinai than what is provided in the housing market data.</p>
</div>
<div id="reverse-zip-code-search" class="section level2">
<h2 class="hasAnchor">
<a href="#reverse-zip-code-search" class="anchor"></a>Reverse ZIP code search</h2>
<p>So far we’ve covered the functions provided by <code>zipcodeR</code> for searching ZIP codes across multiple geographies. The package also provides a function for going in reverse, when given a 5-digit ZIP code. Introducing <code><a href="../reference/reverse_zipcode.html">reverse_zipcode()</a></code>:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Get the ZIP code of the first row of data</span>
<span class="va">zip_code</span> <span class="op">&lt;-</span> <span class="va">real_estate_data</span><span class="op">[</span><span class="fl">1</span>,<span class="op">]</span><span class="op">$</span><span class="va">postal_code</span>

<span class="co"># Pass the ZIP code to the reverse_zipcode() function</span>

<span class="fu"><a href="../reference/reverse_zipcode.html">reverse_zipcode</a></span><span class="op">(</span><span class="va">zip_code</span><span class="op">)</span></code></pre></div>
<pre><code>## 1 row of data found for ZIP code: "11766"</code></pre>
<pre><code>## # A tibble: 1 x 24
##   zipcode zipcode_type major_city post_office_city common_city_list county state
##   &lt;chr&gt;   &lt;chr&gt;        &lt;chr&gt;      &lt;chr&gt;                 &lt;list&lt;raw&gt;&gt; &lt;chr&gt;  &lt;chr&gt;
## 1 11766   Standard     Mount Sin~ Mount Sinai, NY              [23] Suffo~ NY   
## # ... with 17 more variables: lat &lt;dbl&gt;, lng &lt;dbl&gt;, timezone &lt;chr&gt;,
## #   radius_in_miles &lt;dbl&gt;, area_code_list &lt;list&lt;raw&gt;&gt;, population &lt;int&gt;,
## #   population_density &lt;dbl&gt;, land_area_in_sqmi &lt;dbl&gt;,
## #   water_area_in_sqmi &lt;dbl&gt;, housing_units &lt;int&gt;,
## #   occupied_housing_units &lt;int&gt;, median_home_value &lt;int&gt;,
## #   median_household_income &lt;int&gt;, bounds_west &lt;dbl&gt;, bounds_east &lt;dbl&gt;,
## #   bounds_north &lt;dbl&gt;, bounds_south &lt;dbl&gt;</code></pre>
</div>
<div id="relating-zip-codes-to-census-data" class="section level2">
<h2 class="hasAnchor">
<a href="#relating-zip-codes-to-census-data" class="anchor"></a>Relating ZIP codes to Census data</h2>
<p>You may also be interested in relating data at the ZIP code level to Census data. <code>zipcodeR</code> currently provides a function for getting all Census tracts when provided with a 5-digit ZIP code.</p>
<p>Let’s find out how many Census tracts are in the ZIP code from the previous example.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/get_tracts.html">get_tracts</a></span><span class="op">(</span><span class="va">zip_code</span><span class="op">)</span></code></pre></div>
<pre><code>## 9 Census tracts found for ZIP code 11766</code></pre>
<pre><code>## # A tibble: 9 x 3
##   ZCTA5 TRACT        GEOID
##   &lt;chr&gt; &lt;chr&gt;        &lt;dbl&gt;
## 1 11766 158202 36103158202
## 2 11766 158205 36103158205
## 3 11766 158304 36103158304
## 4 11766 158306 36103158306
## 5 11766 158308 36103158308
## 6 11766 158309 36103158309
## 7 11766 158320 36103158320
## 8 11766 158322 36103158322
## 9 11766 158323 36103158323</code></pre>
<p>Now that you have all of the tracts for this ZIP code, it would be very easy to join this with other Census data, such as that which is available from the American Community Survey and other sources.</p>
<p>But ZIP codes alone are not terribly useful for social science research since they are only meant to represent USPS service areas. The Census Bureau has established <a href="https://www.census.gov/programs-surveys/geography/guidance/geo-areas/zctas.html">ZIP code tabulation areas (ZCTAs)</a> that provide a representation of ZIP codes and can be used for joining with Census data. But not every ZIP code is also a ZCTA.</p>
</div>
<div id="testing-if-a-zip-code-is-a-zcta" class="section level2">
<h2 class="hasAnchor">
<a href="#testing-if-a-zip-code-is-a-zcta" class="anchor"></a>Testing if a ZIP code is a ZCTA</h2>
<p><code>zipcodeR</code> provides a function for testing if a given ZIP code is also a ZIP code tabulation area. When provided with a vector of 5-digit ZIP codes the function will return TRUE or FALSE based upon whether the ZIP code is also a ZCTA.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/is_zcta.html">is_zcta</a></span><span class="op">(</span><span class="va">zip_code</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Gavin Rozzi.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
